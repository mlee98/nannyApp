<div class="container" *ngIf="jobs && requests && completed">
  <div class="d-flex">
    <div class="d-flex flex-column">
      <div class="container mt-3 p-3 bg-light">
        <div class="d-flex justify-content-center mb-2">
          <h5>Current Jobs</h5>
        </div>
        <div class="d-flex flex-column">
          <button
            *ngIf="!jobs.length"
            type="button"
            disabled
            class="list-group-item list-group-item-action large-text "
          >
            No Jobs
          </button>
          <button
            type="button"
            (click)="clickJob(job)"
            class="btn btn-outline-info mb-3"
            *ngFor="let job of jobs">
            <div class="text-truncate">
              {{job.familyName}}
            </div>
          </button>
        </div>
      </div>
      <div class="container mt-3 p-3 bg-light">
        <div class="d-flex justify-content-center mb-2">
          <h5>Requests</h5>
        </div>
        <div class="d-flex flex-column">
          <button
            *ngIf="!requests.length"
            type="button"
            disabled
            class="btn btn-outline-info mb-3"
          >
            No Requests
          </button>
          <button
            type="button"
            (click)="clickRequest(req)"
            class="btn btn-outline-info mb-3"
            *ngFor="let req of requests">
            <div class="text-truncate">
              {{req.familyName}}
            </div>
          </button>
        </div>
      </div>
      <div class="container mt-3 p-3 bg-light">
        <div class="d-flex justify-content-center mb-2">
          <h5>Past Jobs</h5>
        </div>
        <div class="list-group text-truncate mb-5">
          <button
            *ngIf="!completed.length"
            type="button"
            disabled
            class="btn btn-outline-info mb-3"
          >
            No Completed Jobs
          </button>
          <button
            type="button"
            (click)="clickRequest(job)"
            class="btn btn-outline-info mb-3"
            *ngFor="let job of completed">
            <div class="text-truncate">
              {{job.familyName}}
            </div>
          </button>
        </div>
      </div>
    </div>
    <div class="col-md-7 container">
      <h1 class="display-3">{{dispJob.familyName}}</h1>
      <h2>{{dispJob.duration}}</h2>
      <h4
        *ngIf='dispJob.isAccepted'
        class="d-inline"
      >
        {{dispJob.address}} {{dispJob.city}} </h4>
      <h4 class="d-inline">{{dispJob.state}} {{dispJob.zip}}</h4>
      <h4>{{dispJob.parentPhone}}</h4>
      <p>
        {{dispJob.description}}
      </p>
      <app-job-schedule
        *ngIf='dispJob.isAccepted && jobs.length'
        [tasks]="dispJob.tasks"
        [editable]="false"
        [completeable]="true"
      >
      </app-job-schedule>
      <div class="row" *ngIf="!dispJob.isAccepted">
        <div class="col-md-2">
          <button
            type="button"
            (click)='acceptRequest()'
            id="acceptReq"
            class="btn btn-success"
          >
            Accept
          </button>
        </div>
        <div class="col-md-2">
          <button
            type="button"
            (click)='declineRequest()'
            id="declineReq"
            class="btn btn-secondary"
          >
            Decline
          </button>
        </div>
      </div>
    </div>
    <div class="col-md-3" >
      <div *ngIf='dispJob.isAccepted'>
        <app-child-card *ngFor="let child of dispJob.children" [child]="child"></app-child-card>
      </div>
    </div>
  </div>
</div>
